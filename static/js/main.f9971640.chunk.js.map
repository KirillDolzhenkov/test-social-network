{"version":3,"sources":["api/api.tsx","redux/auth-reducer.ts","reportWebVitals.ts","assets/images/logo_part_1.png","assets/images/logo_part_2.png","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/Navbar/Navbar.tsx","redux/app-reducer.ts","selectors/app-selectors.ts","components/common/Error404/Error404.tsx","App.tsx","redux/redux-store.ts","index.tsx","components/Header/Header.module.css","redux/profile-reducer.ts","components/common/Preloader/three-dots.svg","components/common/Preloader/Preloader.tsx","components/common/Preloader/Preloader.module.css","redux/dialogs-reducer.ts","redux/users-reducer.ts","components/Navbar/Navbar.module.css"],"names":["instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unFollow","delete","getProfile","console","warn","profileAPI","getUserStatus","updateUserStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","initialState","id","isAuth","authReducer","state","action","type","payload","setAuthUserData","getAuthUserData","dispatch","a","resultCode","loginUserThunk","messages","length","stopSubmit","_error","logoutUserThunk","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Header","props","className","styles","header","to","logoArea","src","logo1","alt","logo2","loginBlock","items","onClick","HeaderClassContainer","this","React","Component","HeaderContainer","connect","auth","Navbar","style","navbar","item","PATH","PROFILE","activeClassName","active","NEWS","DIALOGS","USERS","MUSIC","SETTINGS","initialized","getInitializedSL","app","Error404","ProfileContainer","lazy","module","default","DialogsContainer","UsersContainer","LoginPageContainer","Music","News","Settings","LOGIN","App","initializeApp","isInitialized","fallback","exact","path","render","Preloader","compose","withRouter","promise","Promise","all","rootReducer","combineReducers","dialogPage","dialogsReducer","profilePage","profileReducer","usersPage","usersReducer","form","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","__store__","ReactDOM","document","getElementById","exports","posts","message","likesCount","isLiked","newPostText","profile","stateCopy","newPost","Math","floor","Date","valueOf","random","newText","map","p","filter","addPost","setNewPostText","addLike","removeLike","setStatus","getUserProfile","_extends","Object","assign","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","cx","cy","r","attributeName","from","begin","dur","values","calcMode","repeatCount","_ref3","fillOpacity","_ref4","SvgThreeDots","_ref","svgRef","title","titleId","width","height","viewBox","xmlns","fill","ref","ForwardRef","main","stroke","dialogs","name","time","newMessageText","newMessage","toLocaleString","addMessage","users","totalUsersCount","isFetching","followingInProgress","u","followed","totalCount","setUsers","setCurrentPage","setTotalUsersCount","setIsFetching","setFollowingProgress","getUsersThunkCreator","unFollowThunkCreator","followThunkCreator"],"mappings":"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","file":"static/js/main.f9971640.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst instance = axios.create({\n\twithCredentials: true,\n\tbaseURL: `https://social-network.samuraijs.com/api/1.0/`,\n\theaders: {\n\t\t\"API-KEY\": \"2f53ebc7-6e0c-44af-b6eb-a755cbe3639f\",\n\t},\n});\n\nexport const usersAPI = {\n\tgetUsers(currentPage: number, pageSize: number) {\n\t\treturn instance\n\t\t\t.get(`users?page=${currentPage}&count=${pageSize}`)\n\t\t\t.then((response) => {\n\t\t\t\treturn response.data;\n\t\t\t});\n\t},\n\n\tfollow(userId: number) {\n\t\treturn instance.post(`follow/${userId}`);\n\t},\n\tunFollow(userId: number) {\n\t\treturn instance.delete(`follow/${userId}`);\n\t},\n\tgetProfile(userId: number) {\n\t\tconsole.warn('Obsolete method. Please use profileAPI object');\n\t\treturn profileAPI.getProfile(userId);\n\t},\n};\n\nexport const profileAPI = {\n\tgetProfile(userId: number) {\n\t\treturn instance.get(`profile/${userId}`);\n\t},\n\tgetUserStatus(userId: number) {\n\t\treturn instance.get(`/profile/status/${userId}`);\n\t},\n\tupdateUserStatus(status: string) {\n\t\treturn instance.put(`/profile/status`, {status});\n\t},\n}\n\nexport const authAPI = {\n\tme() {\n\t\treturn instance.get(`auth/me`);\n\t},\n\tlogin(email: string, password: string, rememberMe: boolean = false) {\n\t\treturn instance.post(`/auth/login`, {email, password, rememberMe});\n\t},\n\tlogout() {\n\t\treturn instance.delete(`/auth/login`);\n\t},\n};\n","import {Dispatch} from \"redux\";\n\nimport {authAPI} from \"../api/api\";\nimport {AppActionType, AppThunkType} from \"./redux-store\";\nimport {stopSubmit} from \"redux-form\";\n\n//types:\nexport type authReducerAT = ReturnType<typeof setAuthUserData>\n\nexport type AuthInitialStateType = {\n    id: null | number\n    email: null | string\n    login: null | string\n    isAuth: boolean\n}\n\n//initialState:\nconst initialState: AuthInitialStateType = {\n    id: null,\n    email: null,\n    login: null,\n    isAuth: false,\n}\n\n//reducer:\nconst authReducer = (state: AuthInitialStateType = initialState, action: AppActionType): AuthInitialStateType => {\n    switch (action.type) {\n        case \"SN/AUTH/SET_AUTH_USER_DATA\": {\n            return {\n                ...state,\n                ...action.payload\n            }\n        }\n        default:\n            return state;\n    }\n}\n\n//action creators:\nexport const setAuthUserData = (id: number | null, email: string | null, login: string | null, isAuth: boolean) => {\n    return {type: \"SN/AUTH/SET_AUTH_USER_DATA\", payload: {id, email, login, isAuth} } as const\n}\n\n//thunk creators:\n/*export const getAuthUserData = (): AppThunk => {\n    return (dispatch: Dispatch<authReducerAT>) => {\n        return authAPI\n            .me()\n            .then(response => {\n                if (response.data.resultCode === 0) {\n                    let {id, email, login} = response.data.data; //payload = id, email, login, isAuth\n                    dispatch(setAuthUserData(id, email, login,  true));\n                }\n            });\n    }\n}*/\nexport const getAuthUserData = (): AppThunkType => {\n    return async (dispatch: Dispatch<authReducerAT>) => {\n        const response = await authAPI.me();\n        if (response.data.resultCode === 0) {\n            let {id, email, login} = response.data.data; //payload = id, email, login, isAuth\n            dispatch(setAuthUserData(id, email, login, true));\n        }\n    }\n}\n\n/*export const loginUserThunk = (email: string, password: string, rememberMe: boolean) : AppThunk => {\n    return (dispatch) => {\n        authAPI\n            .login(email, password, rememberMe)\n            .then(response => {\n                if (response.data.resultCode === 0) {\n                    dispatch(getAuthUserData());\n                } else {\n                    let messages = response.data.messages.length > 0 ? response.data.messages : \"Some error\"\n                    //@ts-ignore\n                    dispatch(stopSubmit(\"login\",{_error: messages})); //TYPES !!!\n                }\n            });\n    }\n}*/\nexport const loginUserThunk = (email: string, password: string, rememberMe: boolean): AppThunkType => {\n    return async (dispatch) => {\n        let response = await authAPI.login(email, password, rememberMe)\n        if (response.data.resultCode === 0) {\n            dispatch(getAuthUserData());\n        } else {\n            let messages = response.data.messages.length > 0 ? response.data.messages : \"Some error\"\n            //@ts-ignore\n            dispatch(stopSubmit(\"login\", {_error: messages})); //TYPES !!!\n        }\n    }\n}\n\n/*export const logoutUserThunk = (): AppThunk => {\n    return (dispatch) => {\n        authAPI\n            .logout()\n            .then(response => {\n                if (response.data.resultCode === 0) {\n                    dispatch(setAuthUserData(null, null, null, false));\n                }\n            });\n    }\n}*/\nexport const logoutUserThunk = (): AppThunkType => {\n    return async (dispatch) => {\n        const response = await authAPI.logout();\n        if (response.data.resultCode === 0) {\n            dispatch(setAuthUserData(null, null, null, false));\n        }\n    }\n}\n\nexport {\n    authReducer\n}","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export default __webpack_public_path__ + \"static/media/logo_part_1.230df42a.png\";","export default __webpack_public_path__ + \"static/media/logo_part_2.7aafc755.png\";","import React from \"react\";\nimport {NavLink} from \"react-router-dom\";\n\nimport styles from \"./Header.module.css\";\nimport logo1 from \"../../assets/images/logo_part_1.png\";\nimport logo2 from \"../../assets/images/logo_part_2.png\";\n\n//types:\ntype HeaderPropsType = {\n    isAuth: boolean\n    login: null | string\n    logoutUserThunk: () => void\n}\n\n//functional component:\nconst Header: React.FC<HeaderPropsType> = (props) => {\n\n    const {\n        isAuth,\n        login,\n        logoutUserThunk,\n    } = props;\n\n    //logout request:\n    const logout = () => {\n        logoutUserThunk();\n    }\n\n    return (\n        <div className={styles.header}>\n\n            <NavLink to={\"/news\"} className={styles.logoArea}>\n                <div>\n                    <img src={logo1} alt=\"logoPart1\"/>\n                </div>\n                <div>\n                    <img src={logo2} alt=\"logoPart2\"/>\n                </div>\n            </NavLink>\n            <div className={styles.loginBlock}>\n                {\n                    isAuth\n                        ? <div className={styles.items}>\n                            <div>\n                                {/*<img src={                    //<-- no photo yet\n                                    props.photos.small !== null\n                                        ? props.photos.small\n                                        : defaultSmallUserPhoto //defaultAsset\n                                }/>*/}\n                            </div>\n                            <div>{login} </div>\n                            <NavLink to={\"/login\"} onClick={logout}>Logout</NavLink>\n                        </div>\n                        : <div className={styles.items}>\n                            <NavLink to={\"/login\"}>Login </NavLink>\n                            <NavLink to={\"/login\"}>Sign up </NavLink>\n                        </div>\n                }\n            </div>\n        </div>\n    )\n}\n\nexport {\n    Header\n}","import React from \"react\";\nimport {connect} from \"react-redux\";\n\nimport { logoutUserThunk, setAuthUserData} from \"../../redux/auth-reducer\";\nimport {AppStateType} from \"../../redux/redux-store\";\nimport {Header} from \"./Header\";\n\n//types:\ntype mapStateToPropsType = {\n    isAuth: boolean\n    login: null | string\n}\ntype mapDispatchToPropsType = {\n    setAuthUserData: (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => void\n    logoutUserThunk: () => void\n}\ntype HeaderClassContainerPropsType = mapStateToPropsType & mapDispatchToPropsType;\n\n//mapStateToProps & class container component:\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => {\n    return {\n        isAuth: state.auth.isAuth,\n        login: state.auth.login,\n    }\n}\n\nclass HeaderClassContainer extends React.Component<HeaderClassContainerPropsType> {\n\trender() {\n\t\treturn <Header {...this.props} />\n\t}\n}\n\n//HOC:\nconst HeaderContainer = connect<mapStateToPropsType,\n    mapDispatchToPropsType, {},\n    AppStateType>(mapStateToProps, {\n        setAuthUserData,\n        logoutUserThunk,\n    })(HeaderClassContainer);\n\nexport {\n    HeaderContainer\n}","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport style from \"./Navbar.module.css\";\nimport {PATH} from \"../../App\";\n\n//types:\ntype NavbarPropsType = {}\n\n//functional component:\nconst Navbar: React.FC<NavbarPropsType> = (props) => {\n    return (\n        <div className={style.navbar}>\n            <div className={style.item}>\n                <NavLink to={PATH.PROFILE} activeClassName={style.active}>My profile</NavLink>\n            </div>\n            <div className={style.item}>\n                <NavLink to={PATH.NEWS} activeClassName={style.active}>News</NavLink>\n            </div>\n            <div className={style.item}>\n                <NavLink to={PATH.DIALOGS} activeClassName={style.active}>Messages</NavLink>\n            </div>\n            <div className={style.item}>\n                <NavLink to={PATH.USERS} activeClassName={style.active}>Users</NavLink>\n            </div>\n            <div className={style.item}>\n                <NavLink to={PATH.MUSIC} activeClassName={style.active}>Music</NavLink>\n            </div>\n            <div className={style.item}>\n                <NavLink to={PATH.SETTINGS} activeClassName={style.active}>Settings</NavLink>\n            </div>\n        </div>\n    )\n}\n\nexport {\n    Navbar\n}","import {Dispatch} from \"redux\";\r\n\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\nimport {AppActionType, AppThunkType} from \"./redux-store\";\r\n\r\n//types:\r\ntype initialStateType = {\r\n    initialized: boolean\r\n}\r\nexport type AppReducerActionType = any//ReturnType<typeof initialisedSuccess> //NEED TO FIX!!!\r\n\r\n\r\n//initialState:\r\nconst initialState: initialStateType = {\r\n    initialized: false\r\n}\r\n\r\n//reducer:\r\nconst appReducer = (state: initialStateType = initialState, action: AppActionType) => {\r\n    switch (action.type) {\r\n        case \"SN/APP/INITIALISED_SUCCESS\": {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//action creators:\r\nexport const initializedSuccess = () => {\r\n    return {type: \"SN/APP/INITIALISED_SUCCESS\"} as const\r\n}\r\n\r\n//thunk creators:\r\nexport const initializeApp = (): AppThunkType => {\r\n    return (dispatch: Dispatch<AppActionType>) => {\r\n        let promise = dispatch(getAuthUserData());\r\n\r\n        Promise\r\n            .all([promise]) //Array - if we need more dispatches in future\r\n            .then(() => {\r\n                dispatch(initializedSuccess())\r\n            });\r\n    }\r\n}\r\n\r\nexport {\r\n    appReducer\r\n}","import {AppStateType} from \"../redux/redux-store\";\r\n\r\nexport const getInitializedSL = (state: AppStateType) => {\r\n    return state.app.initialized\r\n}","import React from \"react\";\r\n\r\nconst Error404: React.FC = ()=>{\r\n    return (\r\n        <div>\r\n            <div>404</div>\r\n            <div>Page not found!</div>\r\n            <div>—ฅ/ᐠ.̫ .ᐟ\\ฅ—</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport {\r\n    Error404\r\n}","import React, {Suspense} from \"react\";\nimport {Redirect, Route, Switch, withRouter} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\n\nimport \"./App.css\";\nimport {HeaderContainer} from \"./components/Header/HeaderContainer\";\nimport {Navbar} from \"./components/Navbar/Navbar\";\nimport {AppStateType} from \"./redux/redux-store\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport {Preloader} from \"./components/common/Preloader/Preloader\";\nimport {getInitializedSL} from \"./selectors/app-selectors\";\nimport {Error404} from \"./components/common/Error404/Error404\";\n\n//lazyLoading:\nconst ProfileContainer = React.lazy(() =>\n    import(\"./components/Profile/ProfileClassContainer\")\n        .then((module) => ({default: module.ProfileContainer}))\n)\nconst DialogsContainer = React.lazy(() =>\n    import(\"./components/Dialogs/DialogsContainer\")\n        .then((module) => ({default: module.DialogsContainer}))\n)\nconst UsersContainer = React.lazy(() =>\n    import(\"./components/Users/UsersClassContainer\")\n        .then((module) => ({default: module.UsersContainer}))\n)\nconst LoginPageContainer = React.lazy(() =>\n    import(\"./components/Login/Login\")\n        .then((module) => ({default: module.LoginPageContainer}))\n)\nconst Music = React.lazy(() =>\n    import(\"./components/Music/Music\")\n        .then((module) => ({default: module.Music}))\n)\nconst News = React.lazy(() =>\n    import(\"./components/News/News\")\n        .then((module) => ({default: module.News}))\n)\nconst Settings = React.lazy(() =>\n    import(\"./components/Settings/Settings\")\n        .then((module) => ({default: module.Settings}))\n)\n\n//types:\ntype mapStateToPropsType = {\n    isInitialized: boolean\n}\ntype mapDispatchToPropsType = {\n    initializeApp: () => void\n}\ntype AppClassComponentPropsType = mapStateToPropsType & mapDispatchToPropsType;\n\n//mapStateToProps & class container component:\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => {\n    return {\n        isInitialized: getInitializedSL(state)\n    }\n}\n\n//PATH for imports:\nexport const PATH = {\n    PROFILE: \"/Profile\",\n    NEWS: \"/News\",\n    DIALOGS: \"/Dialogs\",\n    USERS: \"/Users\",\n    MUSIC: \"/Music\",\n    SETTINGS: \"/Settings\",\n    LOGIN: \"/login\",\n}\n\n//class component:\nclass App extends React.Component<AppClassComponentPropsType> {\n    componentDidMount() {\n        //auth request:\n        this.props.initializeApp();\n    }\n\n    render() {\n        const {\n            isInitialized,\n        } = this.props\n\n        return <>\n            {   //users don't see anything before app would be initialized:\n                !isInitialized\n                    ? <Preloader/>\n                    : <div className={\"app-main\"}>\n                        <div className={\"app-wrapper\"}>\n                            <HeaderContainer/>\n                            <Navbar/>\n                            <div className={\"app-wrapper-content\"}>\n                                <Suspense fallback={<div>test</div>}>\n                                    <Switch>\n                                        {/*redirect from default path to main page when the app start: */}\n                                        <Route exact path='/way-of-samurai-social-network/'\n                                               render={() => <Redirect to={PATH.PROFILE}/>}/>\n                                        <Route exact path='/' render={() => <Redirect to={PATH.PROFILE}/>}/>\n\n                                        {/*redirect user to his own profile page using userId: */}\n                                        <Route path={\"/Profile/:userId?\"} render={() => <ProfileContainer/>}/>\n\n                                        <Route path={PATH.NEWS} render={() => <News/>}/>\n                                        <Route path={PATH.DIALOGS} render={() => <DialogsContainer/>}/>\n                                        <Route path={PATH.USERS} render={() => <UsersContainer/>}/>\n                                        <Route path={PATH.MUSIC} render={() => <Music/>}/>\n                                        <Route path={PATH.SETTINGS} render={() => <Settings/>}/>\n                                        <Route path={PATH.LOGIN} render={() => <LoginPageContainer/>}/>\n\n                                        {/*redirect to page 404 if the path does not exist: */}\n                                        <Route path='*' render={() => <Error404/>}/>\n                                    </Switch>\n                                </Suspense>\n                            </div>\n                        </div>\n                    </div>\n            }\n        </>\n    }\n}\n\n//HOC:\nexport default compose<React.ComponentType>(\n    withRouter,\n    connect<mapStateToPropsType, mapDispatchToPropsType, {}, AppStateType>(\n        mapStateToProps, {initializeApp}\n    )\n)(App);","import {applyMiddleware, combineReducers, createStore} from \"redux\";\nimport thunkMiddleware, {ThunkAction} from \"redux-thunk\";\nimport {reducer as formReducer} from 'redux-form';\n\nimport {DialogsActionType, dialogsReducer} from \"./dialogs-reducer\";\nimport {ProfileActionType, profileReducer} from \"./profile-reducer\";\nimport {UsersActionType, usersReducer} from \"./users-reducer\";\nimport {authReducer, authReducerAT} from \"./auth-reducer\";\nimport {appReducer, AppReducerActionType} from \"./app-reducer\";\n\n//types:\nexport type AppStateType = ReturnType<typeof rootReducer>;\nexport type AppActionType = UsersActionType | ProfileActionType | DialogsActionType | authReducerAT | AppReducerActionType\nexport type AppThunkType = ThunkAction<void, AppStateType, unknown, authReducerAT>\n\n//rootReducer & store:\nexport const rootReducer = combineReducers({\n    dialogPage: dialogsReducer,\n    profilePage: profileReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    form: formReducer,\n    app: appReducer,\n});\n\nconst store = createStore(rootReducer, applyMiddleware(thunkMiddleware));\n\n// @ts-ignore\nwindow.__store__ = store\n\nexport {\n    store\n}","import React from \"react\";\nimport {Provider} from \"react-redux\";\nimport ReactDOM from \"react-dom\";\nimport {BrowserRouter} from \"react-router-dom\";\n\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport {store} from \"./redux/redux-store\";\n\nReactDOM.render(\n    <BrowserRouter>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </BrowserRouter>\n    , document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1pKV4\",\"logoArea\":\"Header_logoArea__3SqBW\",\"loginBlock\":\"Header_loginBlock__2NGhc\",\"items\":\"Header_items__2DQpk\"};","import {Dispatch} from \"redux\";\n\nimport {profileAPI} from \"../api/api\";\nimport {AppActionType} from \"./redux-store\";\n\n//types:\ntype PostType = {\n    id: number\n    message: string\n    likesCount: number\n    isLiked: boolean\n}\nexport type ProfileInitialStateType = {\n    posts: Array<PostType>\n    newPostText: string\n    profile: ProfilePageType | null\n    status: string | null\n}\n\nexport type ProfilePageType = {\n    aboutMe: string,\n    contacts: LinksType,\n    lookingForAJob: boolean,\n    lookingForAJobDescription: null | string,\n    fullName: string,\n    userId: number,\n    photos: PhotosType\n}\ntype LinksType = {\n    facebook: null | string,\n    website: null | string,\n    vk: null | string,\n    twitter: null | string,\n    instagram: null | string,\n    youtube: null | string,\n    github: null | string,\n    mainLink: null | string\n}\nexport type PhotosType = { small: string, large: string }\n\nexport type ProfileActionType = ReturnType<typeof addPost>\n    | ReturnType<typeof setNewPostText>\n    | ReturnType<typeof addLike>\n    | ReturnType<typeof removeLike>\n    | ReturnType<typeof setProfile>\n    | ReturnType<typeof setStatus>\n    | ReturnType<typeof deletePost>\n\n\n//initialState:\nconst initialState: ProfileInitialStateType = {\n    posts: [\n        {\n            id: 21313,\n            message: \"testPost\",\n            likesCount: 1,\n            isLiked: false,\n        }\n    ],\n    newPostText: \"\",\n    profile: null,\n    status: \"\",\n}\n\n//reducer:\nconst profileReducer = (state: ProfileInitialStateType = initialState, action: AppActionType): ProfileInitialStateType => {\n\n    switch (action.type) {\n        case \"SN/PROFILE/ADD_POST\": {\n            const stateCopy = {...state}\n            const newPost: PostType = {\n                id: Math.floor(new Date().valueOf() * Math.random()), //Create a unique number using javaScriptTime\n                message: action.newPostText,\n                likesCount: 0,\n                isLiked: false\n            };\n            stateCopy.posts = [newPost, ...state.posts];\n\n            return stateCopy;\n        }\n        case\"SN/PROFILE/SET_NEW_POST_TEXT\": {\n            const stateCopy = {...state};\n            stateCopy.newPostText = action.newText;\n            return stateCopy;\n        }\n        case \"SN/PROFILE/ADD_LIKE\": {\n            const stateCopy = {\n                ...state, posts: state.posts.map(p => {\n                    if (p.id === action.id) {\n                        return {...p, isLiked: true, likesCount: p.likesCount + 1}\n                    }\n                    return p;\n                })\n            }\n            return stateCopy;\n        }\n        case \"SN/PROFILE/REMOVE_LIKE\": {\n            const stateCopy = {\n                ...state, posts: state.posts.map(p => {\n                    if (p.id === action.id) {\n                        return {...p, isLiked: false, likesCount: p.likesCount - 1}\n                    }\n                    return p;\n                })\n            }\n            return stateCopy;\n        }\n        case \"SN/PROFILE/SET_PROFILE\": {\n            return {...state, profile: action.profile}\n        }\n        case \"SN/PROFILE/SET_STATUS\": {\n            return {...state, status: action.status}\n        }\n        case \"SN/PROFILE/DELETE_POST\": {\n            const stateCopy = {\n                ...state,\n                posts: state.posts.filter(p=> p.id !== action.id)\n            }\n            return stateCopy;\n              }\n        default:\n            return state;\n    }\n}\n\n//action creators:\nexport const addPost = (newPostText: string) => {\n    return {type: \"SN/PROFILE/ADD_POST\", newPostText} as const\n}\nexport const setNewPostText = (newText: string) => {\n    return {type: \"SN/PROFILE/SET_NEW_POST_TEXT\", newText} as const\n}\nexport const addLike = (id: number, isLiked: boolean) => {\n    return {type: \"SN/PROFILE/ADD_LIKE\", id, isLiked} as const\n}\nexport const removeLike = (id: number, isLiked: boolean) => {\n    return {type: \"SN/PROFILE/REMOVE_LIKE\", id, isLiked} as const\n}\nexport const setProfile = (profile: ProfilePageType) => {\n    return {type: \"SN/PROFILE/SET_PROFILE\", profile} as const\n}\nexport const setStatus = (status: string) => {\n    return {type: \"SN/PROFILE/SET_STATUS\", status} as const\n}\nexport const deletePost = (id: number) => {\n    return {type: \"SN/PROFILE/DELETE_POST\", id} as const\n}\n\n\n//thunk creators:\n/*export const getUserProfile = (userId: number) => {\n    return (dispatch: Dispatch<AppActionType>) => {\n        profileAPI\n            .getProfile(userId)\n            .then(response => {\n                dispatch(setProfile(response.data));\n            });\n    }\n}*/\nexport const getUserProfile = (userId: number) => {\n    return async (dispatch: Dispatch<AppActionType>) => {\n        const response = await profileAPI.getProfile(userId);\n        dispatch(setProfile(response.data));\n    }\n}\n\n/*export const getUserStatus = (userId: number) => {\n    return (dispatch: Dispatch<AppActionType>) => {\n        profileAPI\n            .getUserStatus(userId) //+userId ??\n            .then(response => {\n                dispatch(setStatus(response.data));\n            });\n    }\n}*/\nexport const getUserStatus = (userId: number) => {\n    return async (dispatch: Dispatch<AppActionType>) => {\n        const response = await profileAPI.getUserStatus(userId); //+userId ??\n        dispatch(setStatus(response.data));\n    }\n}\n\n/*export const updateUserStatus = (status: string) =>  {\n    return (dispatch: Dispatch<AppActionType>) =>  {\n        profileAPI\n            .updateUserStatus(status)\n            .then(response => {\n                if (response.data.resultCode === 0){\n                    dispatch(setStatus(status));\n                }\n            });\n    }\n}*/\nexport const updateUserStatus = (status: string) => {\n    return async (dispatch: Dispatch<AppActionType>) => {\n        const response = await profileAPI.updateUserStatus(status);\n        if (response.data.resultCode === 0) {\n            dispatch(setStatus(status));\n        }\n    }\n}\n\nexport {\n    profileReducer\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 15,\n  cy: 15,\n  r: 15\n}, /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"r\",\n  from: 15,\n  to: 15,\n  begin: \"0s\",\n  dur: \"0.8s\",\n  values: \"15;9;15\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  from: 1,\n  to: 1,\n  begin: \"0s\",\n  dur: \"0.8s\",\n  values: \"1;.5;1\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 60,\n  cy: 15,\n  r: 9,\n  fillOpacity: 0.3\n}, /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"r\",\n  from: 9,\n  to: 9,\n  begin: \"0s\",\n  dur: \"0.8s\",\n  values: \"9;15;9\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  from: 0.5,\n  to: 0.5,\n  begin: \"0s\",\n  dur: \"0.8s\",\n  values: \".5;1;.5\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 105,\n  cy: 15,\n  r: 15\n}, /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"r\",\n  from: 15,\n  to: 15,\n  begin: \"0s\",\n  dur: \"0.8s\",\n  values: \"15;9;15\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"fill-opacity\",\n  from: 1,\n  to: 1,\n  begin: \"0s\",\n  dur: \"0.8s\",\n  values: \"1;.5;1\",\n  calcMode: \"linear\",\n  repeatCount: \"indefinite\"\n}));\n\nfunction SvgThreeDots(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 120,\n    height: 30,\n    viewBox: \"0 0 120 30\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"#fff\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgThreeDots);\nexport default __webpack_public_path__ + \"static/media/three-dots.b98a8c76.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\n\nimport {ReactComponent as PreloaderLogo} from \"./three-dots.svg\";\nimport styles from \"./Preloader.module.css\";\n\n//types:\ntype PreloaderPropsType = {}\n\n//functional component:\nconst Preloader: React.FC<PreloaderPropsType> = (props) => {\n\n    //loading:\n    return (\n        <div className={styles.main}>\n            <PreloaderLogo fill=\"#2b3f4f\" stroke=\"current\"/>\n        </div>\n    )\n}\n\nexport {\n    Preloader\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Preloader_main__BgsaX\"};","import {AppActionType} from \"./redux-store\";\n\n//types:\nexport type DialogsDataType = {\n    id: number\n    name: string\n}\nexport type MessagesDataType = {\n    id: number\n    message: string\n    time: string\n}\nexport type DialogsInitialStateType = {\n    dialogs: Array<DialogsDataType>,\n    messages: Array<MessagesDataType>,\n    newMessageText: string\n}\nexport type DialogsActionType = ReturnType<typeof addMessage>\n\n//initialState:\nconst initialState: DialogsInitialStateType = {\n    dialogs: [\n        {id: 1, name: \"Dima\"},\n        {id: 2, name: \"Sasha\"},\n    ],\n    messages: [\n        {id: 1, message: \"hello\", time: \"test 4/1/2022, 10:38:18 PM\"},\n        {id: 2, message: \"How are you?\", time: \"test 4/1/2022, 10:39:22 PM\"},\n\n    ],\n    newMessageText: \"\"\n}\n\n//reducer:\nconst dialogsReducer = (state: DialogsInitialStateType = initialState, action: AppActionType) => { //need to rename to dialogReducer\n    if (action.type === \"SN/DIALOGS/ADD_MESSAGE\") {\n        const stateCopy = {...state}\n        const newMessage: MessagesDataType = {\n            id: /*action.newId,*/ Math.floor(new Date().valueOf() * Math.random()), //Creating a unique number with javascript time method\n            message: action.newMessage,\n            time: /*action.newDate*/new Date().toLocaleString(), //Get Current Date & Time function\n        };\n        stateCopy.messages = [...state.messages, newMessage];\n        return stateCopy;\n    } else {\n        return state;\n    }\n}\n\n//action creators:\nexport const addMessage = (/*newId: number,*/ newMessage: string, /*newDate: string*/) => {\n    return {type: \"SN/DIALOGS/ADD_MESSAGE\", /*newId,*/ newMessage, /*newDate*/} as const\n}\n\nexport {\n    dialogsReducer\n}","import { Dispatch } from \"redux\";\n\nimport {usersAPI} from \"../api/api\";\nimport {AppActionType} from \"./redux-store\";\n\n//types:\ntype LocationType = {\n    country: string\n    city: string\n}\ntype PhotosType = {\n    small: string\n    large: string\n}\nexport type UsersType = {\n    id: number\n    followed: boolean\n    photos: PhotosType\n    name: string\n    status: string\n    location: LocationType\n}\nexport type UsersInitialStateType = {\n    users: Array<UsersType>\n    pageSize: number\n    totalUsersCount: number\n    currentPage: number,\n    isFetching: boolean,\n    followingInProgress: any[]\n}\nexport type UsersActionType = | ReturnType<typeof follow>\n    | ReturnType<typeof unFollow>\n    | ReturnType<typeof setUsers>\n    | ReturnType<typeof setCurrentPage>\n    | ReturnType<typeof setTotalUsersCount>\n    | ReturnType<typeof setIsFetching>\n    | ReturnType<typeof setFollowingProgress>\n\n//initialState:\nconst initialState: UsersInitialStateType = {\n    users: [],\n    pageSize: 5,\n    totalUsersCount: 19,\n    currentPage: 1,\n    isFetching: false,\n    followingInProgress: []\n}\n\n//reducer:\nconst usersReducer = (state: UsersInitialStateType = initialState, action: AppActionType) => {\n    switch (action.type) {\n        case \"SN/USERS/FOLLOW\": {\n            return {\n                ...state, users: state.users.map(u => {\n                    if (u.id === action.id) {\n                        return {...u, followed: true}\n                    }\n                    return u;\n                })\n            }\n        }\n        case \"SN/USERS/UNFOLLOW\": {\n            return {\n                ...state, users: state.users.map(u => {\n                    if (u.id === action.id) {\n                        return {...u, followed: false}\n                    }\n                    return u;\n                })\n            }\n        }\n        case \"SN/USERS/SET_USERS\": {\n            return {...state, users: [...action.users]} //need to return {...state, users: [...state.users, ...action.users]} (declined)\n        }\n        case \"SN/USERS/SET_CURRENT_PAGE\": {\n            return {...state, currentPage: action.currentPage}\n        }\n        case \"SN/USERS/SET_TOTAL_USERS_COUNT\": {\n            return {...state, totalUsersCount: action.totalCount}\n        }\n        case \"SN/USERS/SET_IS_FETCHING\": {\n            return {...state, isFetching: action.isFetching}\n        }\n        case \"SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS\": {\n            return {...state, followingInProgress: action.followingInProgress\n                    ? [...state.followingInProgress, action.id]\n                    : [...state.followingInProgress.filter(id => id !== action.id)]\n            }\n        }\n        default: {\n            return state;\n        }\n    }\n}\n\n//action creators:\nexport const follow = (id: number) => {\n    return {type: \"SN/USERS/FOLLOW\", id} as const\n}\nexport const unFollow = (id: number) => {\n    return {type: \"SN/USERS/UNFOLLOW\", id} as const\n}\nexport const setUsers = (users: Array<UsersType>) => {\n    return {type: \"SN/USERS/SET_USERS\", users} as const\n}\nexport const setCurrentPage = (currentPage: number) => {\n    return {type: \"SN/USERS/SET_CURRENT_PAGE\", currentPage} as const\n}\nexport const setTotalUsersCount = (totalCount: number) => {\n    return {type: \"SN/USERS/SET_TOTAL_USERS_COUNT\", totalCount} as const\n}\nexport const setIsFetching = (isFetching: boolean) => {\n    return {type: \"SN/USERS/SET_IS_FETCHING\", isFetching} as const\n}\nexport const setFollowingProgress = (followingInProgress: boolean, id: number) => {\n    return {type: \"SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS\", followingInProgress, id} as const\n}\n\n//thunk creators:\nexport const getUsersThunkCreator = (currentPage: number, pageSize: number) => {\n    return (dispatch: Dispatch<AppActionType>) => {\n        dispatch(setIsFetching(true));\n        dispatch(setCurrentPage(currentPage)); //????!!!!\n\n        usersAPI\n            .getUsers(currentPage, pageSize)\n            .then(data => {\n                dispatch(setIsFetching(false));\n                dispatch(setUsers(data.items));\n                dispatch(setTotalUsersCount(data.totalCount));\n            });\n    }\n}\nexport const unFollowThunkCreator =(userId: number)=> {\n    return (dispatch: Dispatch<AppActionType>) => {\n        dispatch(setFollowingProgress(true, userId));\n        usersAPI\n            .unFollow(userId)\n            .then(response => {\n                if (response.data.resultCode === 0) {\n                    dispatch(unFollow(userId));\n                }\n                dispatch(setFollowingProgress(false, userId));\n            });\n    }\n}\nexport const followThunkCreator =(userId: number)=> {\n    return (dispatch: Dispatch<AppActionType>) => {\n        dispatch(setFollowingProgress(true, userId));\n        usersAPI\n            .follow(userId)\n            .then(response => {\n                if (response.data.resultCode === 0) {\n                    dispatch(follow(userId));\n                }\n                dispatch(setFollowingProgress(false, userId));\n            });\n    }\n}\n\nexport {\n    usersReducer\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__27a1U\",\"item\":\"Navbar_item__2Sz7A\",\"active\":\"Navbar_active__3wMdQ\"};"],"sourceRoot":""}