{"version":3,"sources":["assets/images/default_user_photo.png","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","hoc/WithAuthRedirect.tsx","components/Users/Users.module.css","components/common/Pagination/Pagination.module.css","components/common/Pagination/Paginator.tsx","components/Users/User.tsx","components/Users/Users.tsx","selectors/user-selectors.ts","components/Users/UsersClassContainer.tsx"],"names":["_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","_slicedToArray","arr","Array","isArray","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","err","unsupportedIterableToArray","TypeError","mapStateToProps","state","isAuth","auth","WithAuthRedirect","Component","connect","props","restProps","to","module","exports","Pagination","pageSize","totalItemsCount","totalUsersCount","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","useEffect","onClick","filter","p","map","className","styles","main","selectedPage","User","user","followingInProgress","unFollowThunkCreator","followThunkCreator","style","profile","id","src","photos","small","defaultSmallUserPhoto","alt","info","name","buttonsArea","followed","disabled","some","Users","usersPage","setUsers","setCurrentPage","setTotalUsersCount","items","users","u","getUsersSL","getPageSizeSL","getTotalUsersCountSL","getCurrentPageSL","getIsFetchingSL","isFetching","getFollowingInProgressSL","UsersClassContainer","pageNumber","setIsFetching","usersAPI","getUsers","then","data","this","getUsersThunkCreator","preloaderStyle","Preloader","React","UsersContainer","compose"],"mappings":"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","file":"static/js/6.c6089104.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/default_user_photo.5364f1ba.png\";","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nimport { AppStateType } from \"../redux/redux-store\";\n\n//types:\ntype mapStateToPropsType = {\n  isAuth: boolean;\n};\n\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => {\n  return {\n    isAuth: state.auth.isAuth,\n  };\n};\n\n\n//container component:\nfunction WithAuthRedirect<T>(Component: React.ComponentType<T>) { //possible to make arrow function?\n\n  const RedirectComponent: React.FC<mapStateToPropsType> = (props) => {\n\n    const {\n      isAuth,\n      ...restProps\n    } = props;\n\n    if (!isAuth) {\n      return <Redirect to={\"/Login\"}/>\n    }\n    return <Component {...(restProps as T)} />\n  };\n\n  return connect(mapStateToProps)(RedirectComponent)\n}\n\nexport {\n  WithAuthRedirect\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"items\":\"Users_items__-cuhe\",\"profile\":\"Users_profile__2q_da\",\"info\":\"Users_info__2hM-q\",\"name\":\"Users_name__3uZmM\",\"buttonsArea\":\"Users_buttonsArea__3uP-7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Pagination_main__2MgrM\",\"selectedPage\":\"Pagination_selectedPage__3hHKS\"};","import React, {useEffect, useState} from \"react\";\n\nimport styles from \"./Pagination.module.css\";\n\n//types:\ntype PaginationPropsType = {\n    currentPage: number\n    onPageChanged: (p: number) => void\n    totalUsersCount: number\n    pageSize: number\n    portionSize: number\n}\n\n//functional component:\nconst Pagination: React.FC<PaginationPropsType> = (props) => {\n    const {\n        pageSize,\n        totalUsersCount: totalItemsCount, //need to rename\n        currentPage,\n        onPageChanged,\n        portionSize,\n    } = props;\n\n    //pages for pagination:\n    const pagesCount = Math.ceil(totalItemsCount / pageSize); //.ceil rounds a number up to the next largest integer\n    const pages = [];\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i);\n    }\n\n    //portions for pagination:\n    const portionCount = Math.ceil(pagesCount / portionSize);\n    const [portionNumber, setPortionNumber] = useState(1);\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n    const rightPortionPageNumber = portionNumber * portionSize\n\n    //save current users portion:\n    useEffect(()=>setPortionNumber(Math.ceil(currentPage/portionSize)), [currentPage]);\n\n    return <div>\n        {portionNumber > 1 &&\n            <button onClick={() => setPortionNumber(portionNumber - 1)}>&#8249;</button>\n        }\n        {pages\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n            .map(p => <span\n                className={\n                    p === currentPage\n                        ? `${styles.main} ${styles.selectedPage}`\n                        : styles.main\n                }\n                onClick={() =>\n                    onPageChanged(p)\n                }>{p}</span>\n            )}\n        {portionCount > portionNumber &&\n            <button onClick={() => setPortionNumber(portionNumber + 1)}>&#8250;</button>\n        }\n\n    </div>\n}\n\nexport {\n    Pagination\n}","import React from \"react\";\nimport {NavLink} from \"react-router-dom\";\n\nimport defaultSmallUserPhoto from \"../../assets/images/default_user_photo.png\"\nimport style from \"./Users.module.css\";\n\n//types:\ntype UsersPropsType = {\n    user: any\n    followingInProgress: any[]\n    unFollowThunkCreator: (userId: number) => void //need rename to unFollow\n    followThunkCreator: (userId: number) => void //need rename to follow\n}\n\n//functional component:\nconst User: React.FC<UsersPropsType> = (props) => {\n\n    const {\n        user,\n        followingInProgress,\n        unFollowThunkCreator,\n        followThunkCreator,\n    } = props;\n\n    return <div key={user.id}>\n            <div className={style.profile}>\n                <NavLink to={'/profile/' + user.id}>\n                    <img src={\n                        user.photos.small !== null\n                            ? user.photos.small\n                            : defaultSmallUserPhoto //defaultAsset\n                    } alt=\"smallUserPhoto\"/>\n                </NavLink>\n                <div className={style.info}>\n                    <NavLink to={'/profile/' + user.id}>\n                        <div className={style.name}>{user.name}</div>\n                    </NavLink>\n                </div>\n            </div>\n            <div className={style.buttonsArea}>\n                <div>\n                    {\n                        user.followed\n                            ? <button\n                                disabled={followingInProgress.some(id => id === user.id)}\n                                onClick={() => {\n                                    unFollowThunkCreator(user.id);\n                                }}\n                            >unfollow</button>\n                            : <button\n                                disabled={followingInProgress.some(id => id === user.id)}\n                                onClick={() => {\n                                    followThunkCreator(user.id);\n                                }}\n                            >follow</button>\n                    }\n                </div>\n                <div>\n                    {/*(in progress) NavLink to dialogs with user we clicked:*/}\n                    <NavLink to={'/dialogs/' + user.id}>\n                        <button>{\"Write message\"}</button>\n                    </NavLink>\n                </div>\n            </div>\n            <hr/>\n        </div>\n}\n\nexport {\n    User\n}","import React from \"react\";\n\nimport {UsersInitialStateType, UsersType} from \"../../redux/users-reducer\";\nimport style from \"./Users.module.css\";\nimport {Pagination} from \"../common/Pagination/Paginator\";\nimport {User} from \"./User\";\n\n\n//types:\ntype UsersPropsType = {\n    usersPage: UsersInitialStateType\n    pageSize: number\n    totalUsersCount: number\n    currentPage: number\n    followingInProgress: any[]\n    setUsers: (users: Array<UsersType>) => void //need to delete and remove from props\n    setCurrentPage: (pageNumber: number) => void //need to delete and remove from props\n    setTotalUsersCount: (totalCount: number) => void //need to delete and remove from props\n    onPageChanged: (p: number) => void\n\n    unFollowThunkCreator: (userId: number) => void //need rename to unFollow\n    followThunkCreator: (userId: number) => void //need rename to follow\n}\n\n//functional component:\nconst Users: React.FC<UsersPropsType> = (props) => {\n\n    const {\n        usersPage,\n        pageSize,\n        totalUsersCount,\n        currentPage,\n        followingInProgress,\n        setUsers, //need to delete\n        setCurrentPage, //need to delete\n        setTotalUsersCount, //need to delete\n        onPageChanged,\n        unFollowThunkCreator,\n        followThunkCreator,\n    } = props;\n\n    return <div className={style.items}>\n        {usersPage.users.map(u => <User\n                key={u.id}\n                user={u}\n                followingInProgress={followingInProgress}\n                unFollowThunkCreator={unFollowThunkCreator}\n                followThunkCreator={followThunkCreator}\n            />\n        )}\n        <Pagination\n            currentPage={currentPage}\n            pageSize={pageSize}\n            onPageChanged={onPageChanged}\n            totalUsersCount={totalUsersCount}\n            portionSize={10}//testValue\n        />\n    </div>\n}\n\nexport {\n    Users\n}\n","import {AppStateType} from \"../redux/redux-store\";\r\n\r\nexport const getUsersSL = (state: AppStateType) => {\r\n    return state.usersPage\r\n}\r\nexport const getPageSizeSL = (state: AppStateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCountSL = (state: AppStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPageSL = (state: AppStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetchingSL = (state: AppStateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgressSL = (state: AppStateType) => {\r\n    return state.usersPage.followingInProgress\r\n}","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\n\nimport {\n    followThunkCreator,\n    getUsersThunkCreator,\n    setCurrentPage,\n    setIsFetching,\n    setTotalUsersCount,\n    setUsers,\n    unFollowThunkCreator,\n    UsersInitialStateType,\n    UsersType,\n} from \"../../redux/users-reducer\";\nimport {usersAPI} from \"../../api/api\";\nimport {AppStateType} from \"../../redux/redux-store\";\nimport {Preloader} from \"../common/Preloader/Preloader\";\nimport preloaderStyle from \"../common/Preloader/Preloader.module.css\"\nimport {Users} from \"./Users\";\nimport {WithAuthRedirect} from \"../../hoc/WithAuthRedirect\";\nimport {\n    getCurrentPageSL,\n    getFollowingInProgressSL,\n    getIsFetchingSL,\n    getPageSizeSL,\n    getTotalUsersCountSL,\n    getUsersSL,\n} from \"../../selectors/user-selectors\";\n\n//types:\ntype mapStateToPropsType = {\n    usersPage: UsersInitialStateType\n    pageSize: number\n    totalUsersCount: number\n    currentPage: number\n    isFetching: boolean\n    followingInProgress: any[]\n}\ntype mapDispatchToPropsType = {\n    setUsers: (users: Array<UsersType>) => void\n    setCurrentPage: (pageNumber: number) => void\n    setTotalUsersCount: (totalCount: number) => void\n    setIsFetching: (isFetching: boolean) => void\n\n    getUsersThunkCreator: (currentPage: number, pageSize: number) => void // need rename to getUsers\n    unFollowThunkCreator: (userId: number) => void //need rename to follow\n    followThunkCreator: (userId: number) => void //need rename to unFollow\n}\ntype UsersClassContainerPropsType = mapStateToPropsType & mapDispatchToPropsType;\n\n\n//class container component:\nclass UsersClassContainer extends React.Component<UsersClassContainerPropsType> {\n\n    componentDidMount() {\n        //usersAPI.getUsers() request:\n        this.props.getUsersThunkCreator(this.props.currentPage,this.props.pageSize);\n    };\n\n    //onChanged function for pagination:\n    onPageChanged = (pageNumber: number) => {\n        this.props.setCurrentPage(pageNumber);\n        this.props.setIsFetching(true);\n\n        //request for re-render next page of users:\n        usersAPI\n            .getUsers(this.props.currentPage, this.props.pageSize)\n            .then(data => {\n                this.props.setIsFetching(false);\n                this.props.setUsers(data.items);\n            });\n    };\n\n    render() {\n        return (\n            <>\n                {\n                    this.props.isFetching\n                        //user would see preloader while response has not confirmed:\n                        ? <div className={preloaderStyle.main}><Preloader/></div>\n                        : <div>\n                            <Users\n                                {...this.props}\n                                onPageChanged={this.onPageChanged}\n                            />\n                        </div>\n                }\n            </>\n        );\n    };\n}\n\n\n/*const mapStateToProps = (state: AppStateType): mapStateToPropsType => {\n    return {\n        usersPage: state.usersPage,\n        pageSize: state.usersPage.pageSize,\n        totalUsersCount: state.usersPage.totalUsersCount,\n        currentPage: state.usersPage.currentPage,\n        isFetching: state.usersPage.isFetching,\n        followingInProgress: state.usersPage.followingInProgress\n    };\n};*/\n\n\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => {\n    return {\n        usersPage: getUsersSL(state),\n        pageSize: getPageSizeSL(state),\n        totalUsersCount: getTotalUsersCountSL(state),\n        currentPage:getCurrentPageSL(state),\n        isFetching: getIsFetchingSL(state),\n        followingInProgress: getFollowingInProgressSL(state),\n    };\n};\n\n//HOC:\nconst UsersContainer = compose<React.FC>(\n    connect<mapStateToPropsType, mapDispatchToPropsType, {}, AppStateType>(\n        mapStateToProps, {\n            setUsers,\n            setCurrentPage,\n            setTotalUsersCount,\n            setIsFetching,\n            getUsersThunkCreator, //need rename to getUsers\n            unFollowThunkCreator, //need rename to unFollow\n            followThunkCreator,  //need rename to follow\n        }),\n    WithAuthRedirect,\n)(UsersClassContainer);\n\nexport {\n    UsersContainer\n};"],"sourceRoot":""}