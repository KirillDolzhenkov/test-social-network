(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{126:function(e,t,n){e.exports={profile:"Profile_profile__1LESU"}},13:function(e,t,n){e.exports={navbar:"Navbar_navbar__27a1U",item:"Navbar_item__2Sz7A",active:"Navbar_active__3wMdQ"}},162:function(e,t,n){},163:function(e,t,n){},24:function(e,t,n){e.exports={loginPage:"Login_loginPage__2QSa1",loginForm:"Login_loginForm__3_yRp",field:"Login_field__1npoC",pass:"Login_pass__2LVaL",iconPass:"Login_iconPass__2mybm",items:"Login_items__XJym6",checkBox:"Login_checkBox__-IgJh",loginButton:"Login_loginButton__34rpb"}},25:function(e,t,n){e.exports={dialogsPage:"Dialogs_dialogsPage__30RqF",dialogs:"Dialogs_dialogs__hPjJa",dialog:"Dialogs_dialog__3R01s",messages:"Dialogs_messages__2b5iv",messageElements:"Dialogs_messageElements__BpFaC",inputAreaElements:"Dialogs_inputAreaElements__1GU_0",message:"Dialogs_message__2JtN6"}},285:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),i=n(10),r=n(64),c=n.n(r),o=n(9),l=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,286)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),i(e),r(e)}))},u=(n(162),n(16)),d=n(17),j=n(19),b=n(18),m=n(11),f=n(8),O=(n(163),n(3)),p=n(125),h=n.n(p).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"2f53ebc7-6e0c-44af-b6eb-a755cbe3639f"}}),g=function(e,t){return h.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},x=function(e){return h.post("follow/".concat(e))},_=function(e){return h.delete("follow/".concat(e))},v={getProfile:function(e){return h.get("profile/".concat(e))},getUserStatus:function(e){return h.get("/profile/status/".concat(e))},updateUserStatus:function(e){return h.put("/profile/status",{status:e})}},S=function(){return h.get("auth/me")},P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h.post("/auth/login",{email:e,password:t,rememberMe:n})},N=function(){return h.delete("/auth/login")},E=n(39),C={id:null,email:null,login:null,isAuth:!1},w=function(e,t,n,s){return{type:"SN/AUTH/SET_AUTH_USER_DATA",payload:{id:e,email:t,login:n,isAuth:s}}},U=function(){return function(e){return S().then((function(t){if(0===t.data.resultCode){var n=t.data.data,s=n.id,a=n.email,i=n.login;e(w(s,a,i,!0))}}))}},T=function(){return function(e){N().then((function(t){0===t.data.resultCode&&e(w(null,null,null,!1))}))}},k=n(45),y=n.n(k),L=n.p+"static/media/logo_part_1.230df42a.png",I=n.p+"static/media/logo_part_2.7aafc755.png",A=n(0),M=function(e){var t=e.isAuth,n=e.login,s=e.logoutUserThunk;return Object(A.jsxs)("div",{className:y.a.header,children:[Object(A.jsxs)(o.b,{to:"/news",className:y.a.logoArea,children:[Object(A.jsx)("div",{children:Object(A.jsx)("img",{src:L,alt:"logoPart1"})}),Object(A.jsx)("div",{children:Object(A.jsx)("img",{src:I,alt:"logoPart2"})})]}),Object(A.jsx)("div",{className:y.a.loginBlock,children:t?Object(A.jsxs)("div",{className:y.a.items,children:[Object(A.jsx)("div",{}),Object(A.jsxs)("div",{children:[n," "]}),Object(A.jsx)(o.b,{to:"/login",onClick:function(){s()},children:"Logout"})]}):Object(A.jsxs)("div",{className:y.a.items,children:[Object(A.jsx)(o.b,{to:"/login",children:"Login "}),Object(A.jsx)(o.b,{to:"/login",children:"Sign up "})]})})]})},F=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(A.jsx)(M,Object(O.a)({},this.props))}}]),n}(a.a.Component),R=Object(i.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{setAuthUserData:w,logoutUserThunk:T})(F),D=n(30),B={posts:[{id:21313,message:"testPost",likesCount:1,isLiked:!1}],newPostText:"",profile:null,status:null},G=function(e){return{type:"SN/PROFILE/SET_STATUS",status:e}},H=n(126),z=n.n(H),W=n.p+"static/media/default_user_photo.5364f1ba.png";function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}function V(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var q=s.createElement("circle",{cx:15,cy:15,r:15},s.createElement("animate",{attributeName:"r",from:15,to:15,begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),s.createElement("animate",{attributeName:"fill-opacity",from:1,to:1,begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),J=s.createElement("circle",{cx:60,cy:15,r:9,fillOpacity:.3},s.createElement("animate",{attributeName:"r",from:9,to:9,begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),s.createElement("animate",{attributeName:"fill-opacity",from:.5,to:.5,begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),X=s.createElement("circle",{cx:105,cy:15,r:15},s.createElement("animate",{attributeName:"r",from:15,to:15,begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),s.createElement("animate",{attributeName:"fill-opacity",from:1,to:1,begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"}));function Q(e,t){var n=e.title,a=e.titleId,i=V(e,["title","titleId"]);return s.createElement("svg",K({width:120,height:30,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:"#fff",ref:t,"aria-labelledby":a},i),n?s.createElement("title",{id:a},n):null,q,J,X)}var Y=s.forwardRef(Q),Z=(n.p,n(67)),$=n.n(Z),ee=function(e){return Object(A.jsx)("div",{className:$.a.main,children:Object(A.jsx)(Y,{fill:"#2b3f4f",stroke:"current"})})},te=n(34),ne=n.n(te),se=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={editMode:!1,status:e.props.status},e.activateEditMode=function(){e.setState({editMode:!0})},e.deactivateEditMode=function(){e.setState({editMode:!1}),e.onUpdateStatus()},e.onKeyPressHandler=function(t){"Enter"===t.key&&e.deactivateEditMode()},e.onStatusChange=function(t){e.setState({status:t.currentTarget.value})},e.onUpdateStatus=function(){e.state.status?e.props.updateStatus(e.state.status):e.props.updateStatus("")},e}return Object(d.a)(n,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(A.jsxs)(A.Fragment,{children:[!this.state.editMode&&Object(A.jsx)("div",{children:Object(A.jsx)("div",{className:ne.a.statusStaticMode,onDoubleClick:this.activateEditMode,children:this.props.status?this.props.status:"set status"})}),this.state.editMode&&Object(A.jsxs)("div",{className:"".concat(ne.a.statusEditMode),children:[Object(A.jsx)("div",{children:Object(A.jsx)("input",{autoFocus:!0,onKeyPress:this.onKeyPressHandler,value:"".concat(this.state.status),onChange:this.onStatusChange})}),Object(A.jsx)("div",{children:Object(A.jsx)("button",{onClick:this.deactivateEditMode,children:"save"})})]})]})}}]),n}(a.a.Component),ae=function(e){var t=e.profile,n=e.status,s=e.updateStatus;return t?Object(A.jsx)("div",{children:Object(A.jsxs)("div",{className:ne.a.descriptionBlock,children:[Object(A.jsx)("img",{src:null!==(null===t||void 0===t?void 0:t.photos.large)?null===t||void 0===t?void 0:t.photos.large:W,alt:"smallUserPhoto"}),Object(A.jsxs)("div",{className:ne.a.items,children:[Object(A.jsx)("div",{className:ne.a.name,children:Object(A.jsx)("b",{children:null===t||void 0===t?void 0:t.fullName})}),Object(A.jsx)(se,{updateStatus:s,status:n})]})]})}):Object(A.jsx)("div",{children:Object(A.jsx)(ee,{})})},ie=n(122),re=n(123),ce=n(70),oe=n.n(ce),le=n(35),ue=n.n(le),de=Object(i.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addLike:function(t,n){e(function(e,t){return{type:"SN/PROFILE/ADD_LIKE",id:e,isLiked:t}}(t,n))},removeLike:function(t,n){e(function(e,t){return{type:"SN/PROFILE/REMOVE_LIKE",id:e,isLiked:t}}(t,n))}}}))((function(e){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("hr",{}),Object(A.jsxs)("div",{className:ue.a.post,children:[Object(A.jsxs)("div",{className:ue.a.items,children:[Object(A.jsx)("div",{children:Object(A.jsx)("img",{src:W,alt:"defaultSmallUserPhoto"})}),Object(A.jsxs)("div",{className:ue.a.postMessage,children:[Object(A.jsxs)("div",{className:ue.a.name,children:[Object(A.jsxs)("b",{children:["UserName"," "]})," "]}),Object(A.jsx)("div",{className:ue.a.message,children:Object(A.jsx)("div",{children:e.message})})]})]}),Object(A.jsxs)("div",{className:ue.a.reactions,children:[Object(A.jsx)("div",{children:e.isLiked?Object(A.jsxs)("button",{onClick:function(){e.removeLike(e.id,e.isLiked)},children:["Liked \u2665",e.likesCount]}):Object(A.jsxs)("button",{onClick:function(){e.addLike(e.id,e.isLiked)},children:["Like \u2661",e.likesCount]})}),Object(A.jsxs)("div",{children:[" ",Object(A.jsx)("button",{children:" Write comment"})," "]}),Object(A.jsxs)("div",{children:[" ",Object(A.jsx)("button",{children:" Share"})," "]})]})]})]})})),je=function(e){if(!e)return"Field is required"},be=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},me=n(69),fe=n(53),Oe=n.n(fe),pe=function(e){var t=e.input,n=e.meta,s=Object(me.a)(e,["input","meta"]),a=s.formControlValue,i=n.touched&&n.error,r=a;return Object(A.jsxs)("div",{className:i&&"".concat(Oe.a.formControl," ").concat(Oe.a.error),children:[Object(A.jsx)("div",{children:Object(A.jsx)(r,Object(O.a)(Object(O.a)({},t),s))}),i&&Object(A.jsx)("span",{children:n.error})]})},he=be(3),ge=Object(re.a)({form:"postMessageReduxForm"})((function(e){var t=e.handleSubmit;return Object(A.jsxs)("form",{onSubmit:t,className:oe.a.inputAreaElements,children:[Object(A.jsx)("div",{children:Object(A.jsx)(ie.a,{placeholder:"What's new?",name:"newPostText",component:pe,formControlValue:"textarea",validate:[je,he]})}),Object(A.jsx)("div",{children:Object(A.jsx)("button",{children:"Post"})})]})})),xe=Object(i.b)((function(e){return{profilePage:e.profilePage}}),{addPost:function(e){return{type:"SN/PROFILE/ADD_POST",newPostText:e}},setNewPostText:function(e){return{type:"SN/PROFILE/SET_NEW_POST_TEXT",newText:e}}})((function(e){var t=e.profilePage,n=e.addPost,s=(e.setNewPostText,t.posts.map((function(e){return Object(A.jsx)(de,{message:e.message,id:e.id,likesCount:e.likesCount,isLiked:e.isLiked},e.id)})));return Object(A.jsxs)("div",{className:oe.a.postBlock,children:[Object(A.jsx)(ge,{onSubmit:function(e){e.newPostText&&n(e.newPostText)}}),Object(A.jsx)("div",{className:oe.a.posts,children:s})]})})),_e=function(e){var t=e.profile,n=e.status,s=e.updateStatus;return e.isAuth?Object(A.jsxs)("div",{className:z.a.profile,children:[Object(A.jsx)(ae,{profile:t,status:n,updateStatus:s}),Object(A.jsx)(xe,{})]}):Object(A.jsx)(m.a,{to:"/login"})},ve=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e="".concat(this.props.authUserId))||this.props.history.push("/login"),e&&(this.props.getUserProfile(+e),this.props.getUserStatus(+e))}},{key:"render",value:function(){return Object(A.jsx)(A.Fragment,{children:this.props.profile?Object(A.jsx)(_e,Object(O.a)(Object(O.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateUserStatus})):Object(A.jsx)(ee,{})})}}]),n}(a.a.Component),Se=Object(f.d)(Object(i.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth.isAuth,authUserId:e.auth.id}}),{getUserProfile:function(e){return function(t){v.getProfile(e).then((function(e){t({type:"SN/PROFILE/SET_PROFILE",profile:e.data})}))}},getUserStatus:function(e){return function(t){v.getUserStatus(e).then((function(e){t(G(e.data))}))}},updateUserStatus:function(e){return function(t){v.updateUserStatus(e).then((function(n){0===n.data.resultCode&&t(G(e))}))}}}),m.f)(ve),Pe=function(e){return Object(A.jsx)("div",{children:"Music Page's Content"})},Ne={users:[],pageSize:5,totalUsersCount:19,currentPage:1,isFetching:!1,followingInProgress:[]},Ee=function(e){return{type:"SN/USERS/SET_USERS",users:e}},Ce=function(e){return{type:"SN/USERS/SET_TOTAL_USERS_COUNT",totalCount:e}},we=function(e){return{type:"SN/USERS/SET_IS_FETCHING",isFetching:e}},Ue=function(e,t){return{type:"SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS",followingInProgress:e,id:t}},Te=n(36),ke=n.n(Te),ye=function(e){for(var t=e.usersPage,n=e.pageSize,s=e.totalUsersCount,a=e.currentPage,i=e.followingInProgress,r=(e.setUsers,e.setCurrentPage,e.setTotalUsersCount,e.onPageChanged),c=e.unFollowThunkCreator,l=e.followThunkCreator,u=Math.ceil(s/n),d=[],j=1;j<=u;j++)d.push(j);return Object(A.jsxs)("div",{className:ke.a.items,children:[t.users.map((function(e){return Object(A.jsxs)("div",{children:[Object(A.jsxs)("div",{className:ke.a.profile,children:[Object(A.jsx)(o.b,{to:"/profile/"+e.id,children:Object(A.jsx)("img",{src:null!==e.photos.small?e.photos.small:W,alt:"smallUserPhoto"})}),Object(A.jsx)("div",{className:ke.a.info,children:Object(A.jsx)(o.b,{to:"/profile/"+e.id,children:Object(A.jsx)("div",{className:ke.a.name,children:e.name})})})]}),Object(A.jsxs)("div",{className:ke.a.buttonsArea,children:[Object(A.jsx)("div",{children:e.followed?Object(A.jsx)("button",{disabled:i.some((function(t){return t===e.id})),onClick:function(){c(e.id)},children:"unfollow"}):Object(A.jsx)("button",{disabled:i.some((function(t){return t===e.id})),onClick:function(){l(e.id)},children:"follow"})}),Object(A.jsx)("div",{children:Object(A.jsxs)(o.b,{to:"/dialogs/"+e.id,children:[" ",Object(A.jsx)("button",{children:"Write message"})]})})]}),Object(A.jsx)("hr",{})]},e.id)})),Object(A.jsx)("div",{children:d.map((function(e){return Object(A.jsx)("span",{className:e===a?ke.a.selectedPage:"",onClick:function(){return r(e)},children:e})}))})]})},Le=function(e){return{isAuth:e.auth.isAuth}};function Ie(e){return Object(i.b)(Le)((function(t){var n=t.isAuth,s=Object(me.a)(t,["isAuth"]);return n?Object(A.jsx)(e,Object(O.a)({},s)):Object(A.jsx)(m.a,{to:"/Login"})}))}var Ae=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.setCurrentPage(t),e.props.setIsFetching(!0),g(e.props.currentPage,e.props.pageSize).then((function(t){e.props.setIsFetching(!1),e.props.setUsers(t.items)}))},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsersThunkCreator(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(A.jsx)(A.Fragment,{children:this.props.isFetching?Object(A.jsx)("div",{className:$.a.main,children:Object(A.jsx)(ee,{})}):Object(A.jsx)("div",{children:Object(A.jsx)(ye,Object(O.a)(Object(O.a)({},this.props),{},{onPageChanged:this.onPageChanged}))})})}}]),n}(a.a.Component),Me=Object(f.d)(Object(i.b)((function(e){return{usersPage:e.usersPage,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,followingInProgress:e.usersPage.followingInProgress}}),{setUsers:Ee,setCurrentPage:function(e){return{type:"SN/USERS/SET_CURRENT_PAGE",currentPage:e}},setTotalUsersCount:Ce,setIsFetching:we,getUsersThunkCreator:function(e,t){return function(n){n(we(!0)),g(e,t).then((function(e){n(we(!1)),n(Ee(e.items)),n(Ce(e.totalCount))}))}},unFollowThunkCreator:function(e){return function(t){t(Ue(!0,e)),_(e).then((function(n){0===n.data.resultCode&&t({type:"SN/USERS/UNFOLLOW",id:e}),t(Ue(!1,e))}))}},followThunkCreator:function(e){return function(t){t(Ue(!0,e)),x(e).then((function(n){0===n.data.resultCode&&t({type:"SN/USERS/FOLLOW",id:e}),t(Ue(!1,e))}))}}}),Ie)(Ae),Fe=function(e){return Object(A.jsx)("div",{children:"News Page's Content"})},Re=n(13),De=n.n(Re),Be=function(e){return Object(A.jsxs)("div",{className:De.a.navbar,children:[Object(A.jsx)("div",{className:De.a.item,children:Object(A.jsx)(o.b,{to:"/Profile",activeClassName:De.a.active,children:"My profile"})}),Object(A.jsx)("div",{className:De.a.item,children:Object(A.jsx)(o.b,{to:"/News",activeClassName:De.a.active,children:"News"})}),Object(A.jsx)("div",{className:De.a.item,children:Object(A.jsx)(o.b,{to:"/Dialogs",activeClassName:De.a.active,children:"Messages"})}),Object(A.jsx)("div",{className:De.a.item,children:Object(A.jsx)(o.b,{to:"/Users",activeClassName:De.a.active,children:"Users"})}),Object(A.jsx)("div",{className:De.a.item,children:Object(A.jsx)(o.b,{to:"/Music",activeClassName:De.a.active,children:"Music"})}),Object(A.jsx)("div",{className:De.a.item,children:Object(A.jsx)(o.b,{to:"/Settings",activeClassName:De.a.active,children:"Settings"})})]})},Ge=n(129),He=n(24),ze=n.n(He),We=Object(re.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,a=Object(s.useState)(!1),i=Object(Ge.a)(a,2),r=i[0],c=i[1],o=r?"text":"password";return Object(A.jsx)("div",{className:ze.a.loginForm,children:Object(A.jsxs)("form",{onSubmit:t,children:[Object(A.jsx)("div",{children:Object(A.jsx)(ie.a,{className:ze.a.field,placeholder:"email",name:"email",component:pe,formControlValue:"input",validate:[je]})}),Object(A.jsxs)("div",{className:ze.a.pass,children:[Object(A.jsx)(ie.a,{cla:!0,ssName:ze.a.field,placeholder:"Password",name:"password",component:pe,formControlValue:"input",validate:[je],type:o}),Object(A.jsx)("div",{className:ze.a.iconPass,onClick:function(){c(!r)},children:"\ud83d\udc41"})]}),Object(A.jsx)("div",{children:n&&Object(A.jsx)("div",{className:Oe.a.formSummaryError,children:n})}),Object(A.jsxs)("div",{className:ze.a.items,children:[Object(A.jsxs)("div",{className:ze.a.checkBox,children:[Object(A.jsx)(ie.a,{className:"field",type:"checkbox",name:"rememberMe",component:"input"})," remember me"]}),Object(A.jsx)("div",{className:ze.a.loginButton,children:Object(A.jsx)("button",{children:"Login"})})]})]})})})),Ke=Object(i.b)((function(e){return{isAuth:e.auth.isAuth}}),{loginUserThunk:function(e,t,n){return function(s){P(e,t,n).then((function(e){if(0===e.data.resultCode)s(U());else{var t=e.data.messages.length>0?e.data.messages:"Some error";s(Object(E.a)("login",{_error:t}))}}))}},logoutUserThunk:T})((function(e){var t=e.loginUserThunk;return e.isAuth?Object(A.jsx)(m.a,{to:"/profile"}):Object(A.jsxs)("div",{className:ze.a.loginPage,children:[Object(A.jsx)("h1",{children:"Samurai Login"}),Object(A.jsx)(We,{onSubmit:function(e){t(e.email,e.password,e.rememberMe)}})]})})),Ve=function(e){return Object(A.jsx)("div",{children:"Settings Page's Content"})},qe={dialogs:[{id:1,name:"Dima"},{id:2,name:"Sasha"}],messages:[{id:1,message:"hello",time:"test 4/1/2022, 10:38:18 PM"},{id:2,message:"How are you?",time:"test 4/1/2022, 10:39:22 PM"}],newMessageText:""},Je=n(25),Xe=n.n(Je),Qe=function(e){var t=e.id,n=e.name;return Object(A.jsx)("div",{className:Xe.a.dialog+""+Xe.a.active,children:Object(A.jsx)(o.b,{to:"/dialogs/"+t,children:n})})},Ye=n(37),Ze=n.n(Ye),$e=function(e){e.id;var t=e.message,n=e.time;return Object(A.jsxs)("div",{className:Ze.a.message,children:[Object(A.jsx)("img",{className:Ze.a.img,alt:"userPhoto",src:W}),Object(A.jsxs)("div",{className:Ze.a.content,children:[Object(A.jsx)("div",{className:Ze.a.name,children:"userName"}),Object(A.jsx)("div",{className:Ze.a.text,children:t}),Object(A.jsx)("div",{className:Ze.a.time,children:n})]})]})},et=function(e){var t=e.dialogsPage,n=e.addMessage,s=e.newId,a=e.newDate,i=t.dialogs.map((function(e){return Object(A.jsx)(Qe,{name:e.name,id:e.id},e.id)})),r=t.messages.map((function(e){return Object(A.jsx)($e,{message:e.message,id:e.id,time:e.time},e.id)}));return Object(A.jsxs)("div",{className:Xe.a.dialogsPage,children:[Object(A.jsx)("div",{className:Xe.a.dialogs,children:i}),Object(A.jsxs)("div",{className:Xe.a.messages,children:[Object(A.jsx)("div",{className:Xe.a.messageElements,children:r}),Object(A.jsx)("hr",{}),Object(A.jsx)(nt,{onSubmit:function(e){e.newMessageText&&n(s,e.newMessageText,a)}})]})]})},tt=be(3),nt=Object(re.a)({form:"profileAddPostReduxForm"})((function(e){var t=e.handleSubmit;return Object(A.jsxs)("form",{onSubmit:t,className:Xe.a.inputAreaElements,children:[" ",Object(A.jsx)("div",{children:Object(A.jsx)(ie.a,{placeholder:"Write something",name:"newMessageText",component:pe,formControlValue:"textarea",validate:[je,tt]})}),Object(A.jsx)("div",{children:Object(A.jsx)("button",{children:"Send"})})]})})),st=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(A.jsx)(et,Object(O.a)(Object(O.a)({},this.props),{},{newId:Math.floor((new Date).valueOf()*Math.random()),newDate:(new Date).toLocaleString()}))}}]),n}(a.a.Component),at=Object(f.d)(Object(i.b)((function(e){return{dialogsPage:e.dialogPage}}),{addMessage:function(e,t,n){return{type:"SN/DIALOGS/ADD_MESSAGE",newId:e,newMessage:t,newDate:n}}}),Ie)(st),it={initialized:!1},rt=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){return this.props.initializeApp(),Object(A.jsx)(m.a,{to:"/Profile"})}},{key:"render",value:function(){return Object(A.jsx)(A.Fragment,{children:this.props.isInitialized?Object(A.jsx)("div",{className:"app-main",children:Object(A.jsxs)("div",{className:"app-wrapper",children:[Object(A.jsx)(R,{}),Object(A.jsx)(Be,{}),Object(A.jsxs)("div",{className:"app-wrapper-content",children:[Object(A.jsx)(m.b,{exact:!0,path:"/",render:function(){return Object(A.jsx)(m.a,{to:"/profile"})}})," ",Object(A.jsx)(m.b,{path:"/profile/:userId?",render:function(){return Object(A.jsx)(Se,{})}}),Object(A.jsx)(m.b,{path:"/news",render:function(){return Object(A.jsx)(Fe,{})}}),Object(A.jsx)(m.b,{path:"/dialogs",render:function(){return Object(A.jsx)(at,{})}}),Object(A.jsx)(m.b,{path:"/users",render:function(){return Object(A.jsx)(Me,{})}}),Object(A.jsx)(m.b,{path:"/music",render:function(){return Object(A.jsx)(Pe,{})}}),Object(A.jsx)(m.b,{path:"/settings",render:function(){return Object(A.jsx)(Ve,{})}}),Object(A.jsx)(m.b,{path:"/login",render:function(){return Object(A.jsx)(Ke,{})}})]})]})}):Object(A.jsx)(ee,{})})}}]),n}(a.a.Component),ct=Object(f.d)(m.f,Object(i.b)((function(e){return{isInitialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(U());Promise.all([t]).then((function(){e({type:"SN/APP/INITIALISED_SUCCESS"})}))}}}))(rt),ot=n(128),lt=n(124),ut=Object(f.c)({dialogPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;if("SN/DIALOGS/ADD_MESSAGE"===t.type){var n=Object(O.a)({},e),s={id:t.newId,message:t.newMessage,time:t.newDate};return n.messages=[].concat(Object(D.a)(e.messages),[s]),n}return e},profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/PROFILE/ADD_POST":var n=Object(O.a)({},e),s={id:Math.floor((new Date).valueOf()*Math.random()),message:t.newPostText,likesCount:0,isLiked:!1};return n.posts=[s].concat(Object(D.a)(e.posts)),n;case"SN/PROFILE/SET_NEW_POST_TEXT":var a=Object(O.a)({},e);return a.newPostText=t.newText,a;case"SN/PROFILE/ADD_LIKE":var i=Object(O.a)(Object(O.a)({},e),{},{posts:e.posts.map((function(e){return e.id===t.id?Object(O.a)(Object(O.a)({},e),{},{isLiked:!0,likesCount:e.likesCount+1}):e}))});return i;case"SN/PROFILE/REMOVE_LIKE":var r=Object(O.a)(Object(O.a)({},e),{},{posts:e.posts.map((function(e){return e.id===t.id?Object(O.a)(Object(O.a)({},e),{},{isLiked:!1,likesCount:e.likesCount-1}):e}))});return r;case"SN/PROFILE/SET_PROFILE":return Object(O.a)(Object(O.a)({},e),{},{profile:t.profile});case"SN/PROFILE/SET_STATUS":return Object(O.a)(Object(O.a)({},e),{},{status:t.status});default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/USERS/FOLLOW":return Object(O.a)(Object(O.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(O.a)(Object(O.a)({},e),{},{followed:!0}):e}))});case"SN/USERS/UNFOLLOW":return Object(O.a)(Object(O.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(O.a)(Object(O.a)({},e),{},{followed:!1}):e}))});case"SN/USERS/SET_USERS":return Object(O.a)(Object(O.a)({},e),{},{users:Object(D.a)(t.users)});case"SN/USERS/SET_CURRENT_PAGE":return Object(O.a)(Object(O.a)({},e),{},{currentPage:t.currentPage});case"SN/USERS/SET_TOTAL_USERS_COUNT":return Object(O.a)(Object(O.a)({},e),{},{totalUsersCount:t.totalCount});case"SN/USERS/SET_IS_FETCHING":return Object(O.a)(Object(O.a)({},e),{},{isFetching:t.isFetching});case"SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS":return Object(O.a)(Object(O.a)({},e),{},{followingInProgress:t.followingInProgress?[].concat(Object(D.a)(e.followingInProgress),[t.id]):Object(D.a)(e.followingInProgress.filter((function(e){return e!==t.id})))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/AUTH/SET_AUTH_USER_DATA":return Object(O.a)(Object(O.a)({},e),t.payload);default:return e}},form:lt.a,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/APP/INITIALISED_SUCCESS":return Object(O.a)(Object(O.a)({},e),{},{initialized:!0});default:return e}}}),dt=Object(f.e)(ut,Object(f.a)(ot.a));window.__store__=dt;var jt=function(e){c.a.render(Object(A.jsx)(o.a,{children:Object(A.jsx)(i.a,{store:dt,children:Object(A.jsx)(ct,{})})}),document.getElementById("root"))};jt(dt.getState()),dt.subscribe((function(){jt(dt.getState())})),l()},34:function(e,t,n){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__1o5hr",items:"ProfileInfo_items__Tow0c",name:"ProfileInfo_name__3_29G",statusStaticMode:"ProfileInfo_statusStaticMode__1JGsp",statusEditMode:"ProfileInfo_statusEditMode__2KjhT"}},35:function(e,t,n){e.exports={post:"Post_post__L3g4m",items:"Post_items__TiuHf",postMessage:"Post_postMessage__2R7XL",name:"Post_name__7buCm",message:"Post_message__1YmDS",reactions:"Post_reactions__3uWF0"}},36:function(e,t,n){e.exports={items:"Users_items__-cuhe",selectedPage:"Users_selectedPage__22OUq",profile:"Users_profile__2q_da",info:"Users_info__2hM-q",name:"Users_name__3uZmM",buttonsArea:"Users_buttonsArea__3uP-7"}},37:function(e,t,n){e.exports={message:"Message_message__1pl0m",content:"Message_content__28Hls",name:"Message_name__gkaLH",text:"Message_text__1FzPC",time:"Message_time__322cI"}},45:function(e,t,n){e.exports={header:"Header_header__1pKV4",logoArea:"Header_logoArea__3SqBW",loginBlock:"Header_loginBlock__2NGhc",items:"Header_items__2DQpk"}},53:function(e,t,n){e.exports={formControl:"FormControls_formControl__1PKUq",error:"FormControls_error__3kHja",formSummaryError:"FormControls_formSummaryError__2VRhK"}},67:function(e,t,n){e.exports={main:"Preloader_main__BgsaX"}},70:function(e,t,n){e.exports={postBlock:"ContentArea_postBlock__2Fp-K",posts:"ContentArea_posts__3qIIz",inputAreaElements:"ContentArea_inputAreaElements__ijd0W"}}},[[285,1,2]]]);
//# sourceMappingURL=main.8bb73659.chunk.js.map