(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{223:function(t,e,s){"use strict";e.a=s.p+"static/media/default_user_photo.5364f1ba.png"},224:function(t,e,s){t.exports={formControl:"FormControls_formControl__1PKUq",error:"FormControls_error__3kHja",formSummaryError:"FormControls_formSummaryError__2VRhK"}},226:function(t,e,s){"use strict";s.d(e,"b",(function(){return n})),s.d(e,"a",(function(){return r}));var n=function(t){if(!t)return"Field is required"},r=function(t){return function(e){if(e&&e.length>t)return"Max length is ".concat(t," symbols")}}},227:function(t,e,s){"use strict";s.d(e,"a",(function(){return c}));var n=s(3),r=s(225),o=(s(0),s(224)),i=s.n(o),a=s(1),c=function(t){var e=t.input,s=t.meta,o=Object(r.a)(t,["input","meta"]),c=o.formControlValue,u=s.touched&&s.error,l=c;return Object(a.jsxs)("div",{className:u&&"".concat(i.a.formControl," ").concat(i.a.error),children:[Object(a.jsx)("div",{children:Object(a.jsx)(l,Object(n.a)(Object(n.a)({},e),o))}),u&&Object(a.jsx)("span",{children:s.error})]})}},229:function(t,e,s){"use strict";s.d(e,"a",(function(){return r}));var n=s(57);function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var s=[],n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done)&&(s.push(i.value),!e||s.length!==e);n=!0);}catch(c){r=!0,o=c}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return s}}(t,e)||Object(n.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},237:function(t,e,s){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__1o5hr",items:"ProfileInfo_items__Tow0c",name:"ProfileInfo_name__3_29G",statusStaticMode:"ProfileInfo_statusStaticMode__1JGsp",statusEditMode:"ProfileInfo_statusEditMode__2KjhT",statusDefault:"ProfileInfo_statusDefault__tIH07"}},252:function(t,e,s){t.exports={profile:"Profile_profile__1LESU"}},253:function(t,e,s){t.exports={postBlock:"ContentArea_postBlock__2Fp-K",posts:"ContentArea_posts__3qIIz",inputAreaElements:"ContentArea_inputAreaElements__ijd0W"}},254:function(t,e,s){t.exports={post:"Post_post__L3g4m",items:"Post_items__TiuHf",postMessage:"Post_postMessage__2R7XL",name:"Post_name__7buCm",message:"Post_message__1YmDS",reactions:"Post_reactions__3uWF0"}},307:function(t,e,s){"use strict";s.r(e),s.d(e,"ProfileContainer",(function(){return H}));var n=s(3),r=s(23),o=s(24),i=s(27),a=s(25),c=s(0),u=s.n(c),l=s(26),d=s(21),j=s(5),f=s(58),b=s(252),p=s.n(b),m=s(223),h=s(47),O=s(237),x=s.n(O),v=s(229),_=s(1),g=function(t){var e=Object(c.useState)(!1),s=Object(v.a)(e,2),n=s[0],r=s[1],o=Object(c.useState)(t.status),i=Object(v.a)(o,2),a=i[0],u=i[1];Object(c.useEffect)((function(){u(t.status)}),[t.status]);var l=function(){r(!1),d()},d=function(){a?t.updateStatus(a):t.updateStatus("")};return Object(_.jsxs)(_.Fragment,{children:[!n&&Object(_.jsx)("div",{children:Object(_.jsx)("div",{className:x.a.statusStaticMode,onDoubleClick:function(){r(!0)},children:t.status?t.status:Object(_.jsx)("div",{className:"".concat(x.a.statusStaticMode," ").concat(x.a.statusDefault),children:"set status"})})}),n&&Object(_.jsxs)("div",{className:"".concat(x.a.statusEditMode),children:[Object(_.jsx)("div",{children:Object(_.jsx)("input",{autoFocus:!0,onKeyPress:function(t){"Enter"===t.key&&l()},value:"".concat(a),onChange:function(t){u(t.currentTarget.value)}})}),Object(_.jsx)("div",{children:Object(_.jsx)("button",{onClick:l,children:"save"})})]})]})},P=function(t){var e=t.profile,s=t.status,n=t.updateStatus;return e?Object(_.jsx)("div",{children:Object(_.jsxs)("div",{className:x.a.descriptionBlock,children:[Object(_.jsx)("img",{src:null!==(null===e||void 0===e?void 0:e.photos.large)?null===e||void 0===e?void 0:e.photos.large:m.a,alt:"smallUserPhoto"}),Object(_.jsxs)("div",{className:x.a.items,children:[Object(_.jsx)("div",{className:x.a.name,children:Object(_.jsx)("b",{children:null===e||void 0===e?void 0:e.fullName})}),Object(_.jsx)(g,{updateStatus:n,status:s})]})]})}):Object(_.jsx)("div",{children:Object(_.jsx)(h.a,{})})},k=s(105),S=s(106),y=s(253),C=s.n(y),N=s(254),I=s.n(N),L=Object(d.b)((function(t){return{profilePage:t.profilePage}}),(function(t){return{addLike:function(e,s){t(Object(f.a)(e,s))},removeLike:function(e,s){t(Object(f.f)(e,s))}}}))((function(t){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("hr",{}),Object(_.jsxs)("div",{className:I.a.post,children:[Object(_.jsxs)("div",{className:I.a.items,children:[Object(_.jsx)("div",{children:Object(_.jsx)("img",{src:m.a,alt:"defaultSmallUserPhoto"})}),Object(_.jsxs)("div",{className:I.a.postMessage,children:[Object(_.jsxs)("div",{className:I.a.name,children:[Object(_.jsxs)("b",{children:["UserName"," "]})," "]}),Object(_.jsx)("div",{className:I.a.message,children:Object(_.jsx)("div",{children:t.message})})]})]}),Object(_.jsxs)("div",{className:I.a.reactions,children:[Object(_.jsx)("div",{children:t.isLiked?Object(_.jsxs)("button",{onClick:function(){t.removeLike(t.id,t.isLiked)},children:["Liked \u2665",t.likesCount]}):Object(_.jsxs)("button",{onClick:function(){t.addLike(t.id,t.isLiked)},children:["Like \u2661",t.likesCount]})}),Object(_.jsxs)("div",{children:[" ",Object(_.jsx)("button",{children:" Write comment"})," "]}),Object(_.jsxs)("div",{children:[" ",Object(_.jsx)("button",{children:" Share"})," "]})]})]})]})})),M=s(226),U=s(227),w=u.a.memo((function(t){var e=t.profilePage,s=t.addPost,n=(t.setNewPostText,e.posts.map((function(t){return Object(_.jsx)(L,{message:t.message,id:t.id,likesCount:t.likesCount,isLiked:t.isLiked},t.id)})));return Object(_.jsxs)("div",{className:C.a.postBlock,children:[Object(_.jsx)(A,{onSubmit:function(t){t.newPostText&&s(t.newPostText)}}),Object(_.jsx)("div",{className:C.a.posts,children:n})]})})),E=Object(M.a)(3),A=Object(S.a)({form:"postMessageReduxForm"})((function(t){var e=t.handleSubmit;return Object(_.jsxs)("form",{onSubmit:e,className:C.a.inputAreaElements,children:[Object(_.jsx)("div",{children:Object(_.jsx)(k.a,{placeholder:"What's new?",name:"newPostText",component:U.a,formControlValue:"textarea",validate:[M.b,E]})}),Object(_.jsx)("div",{children:Object(_.jsx)("button",{children:"Post"})})]})})),F=Object(d.b)((function(t){return{profilePage:t.profilePage}}),{addPost:f.b,setNewPostText:f.g})(w),T=s(80),B=function(t){var e=t.profile,s=t.status,n=t.updateStatus;return t.isAuth?Object(_.jsxs)("div",{className:p.a.profile,children:[Object(_.jsx)(P,{profile:e,status:s,updateStatus:n}),Object(_.jsx)(F,{})]}):Object(_.jsx)(j.a,{to:T.a.LOGIN})},D=function(t){return t.profilePage.profile},K=function(t){return t.profilePage.status},W=function(t){return t.auth.isAuth},q=function(t){return t.auth.id},G=function(t){Object(i.a)(s,t);var e=Object(a.a)(s);function s(){return Object(r.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t="".concat(this.props.authUserId))||this.props.history.push("/login"),t&&(this.props.getUserProfile(+t),this.props.getUserStatus(+t))}},{key:"render",value:function(){return Object(_.jsx)(_.Fragment,{children:this.props.profile?Object(_.jsx)(B,Object(n.a)(Object(n.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateUserStatus})):Object(_.jsx)(h.a,{})})}}]),s}(u.a.Component),H=Object(l.d)(Object(d.b)((function(t){return{profile:D(t),status:K(t),isAuth:W(t),authUserId:q(t)}}),{getUserProfile:f.c,getUserStatus:f.d,updateUserStatus:f.h}),j.g)(G)}}]);
//# sourceMappingURL=4.597f2cf1.chunk.js.map