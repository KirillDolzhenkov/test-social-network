(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,n){e.exports={dialogsPage:"Dialogs_dialogsPage__2-zGa",dialogs:"Dialogs_dialogs__3K-Xy",dialog:"Dialogs_dialog__ZEC-O",messages:"Dialogs_messages__3kr4z",message:"Dialogs_message__nXIdA"}},20:function(e,t,n){e.exports={postBlock:"ContentArea_postBlock__3Ivjo",posts:"ContentArea_posts__2_nbj"}},22:function(e,t,n){e.exports={items:"Users_items__sAzYH",selectedPage:"Users_selectedPage__UEP4h"}},33:function(e,t,n){e.exports={header:"Header_header__WdcwP"}},34:function(e,t,n){},35:function(e,t,n){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__1_i-h"}},36:function(e,t,n){e.exports={items:"Post_items__1-enr"}},4:function(e,t,n){e.exports={navbar:"Navbar_navbar__3S2BG",item:"Navbar_item__k2Crj",active:"Navbar_active__28fRt"}},45:function(e,t,n){},46:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),i=n(14),c=n.n(i),r=(n(45),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),i(e),c(e)}))}),o=n(7),u=(n(46),n(33)),l=n.n(u),d=n(0),j=function(e){return Object(d.jsx)("div",{className:l.a.header,children:"Header"})},b=n(4),O=n.n(b),g=function(e){return Object(d.jsxs)("div",{className:O.a.navbar,children:[Object(d.jsx)("div",{className:O.a.item,children:Object(d.jsx)(o.b,{to:"/Profile",activeClassName:O.a.active,children:"Profile"})}),Object(d.jsx)("div",{className:O.a.item,children:Object(d.jsx)(o.b,{to:"/Dialogs",activeClassName:O.a.active,children:"Messages"})}),Object(d.jsx)("div",{className:O.a.item,children:Object(d.jsx)(o.b,{to:"/Users",activeClassName:O.a.active,children:"Users"})}),Object(d.jsx)("div",{className:O.a.item,children:Object(d.jsx)(o.b,{to:"/News",activeClassName:O.a.active,children:"News"})}),Object(d.jsx)("div",{className:O.a.item,children:Object(d.jsx)(o.b,{to:"/Music",activeClassName:O.a.active,children:"Music"})}),Object(d.jsx)("div",{className:O.a.item,children:Object(d.jsx)(o.b,{to:"/Settings",activeClassName:O.a.active,children:"Settings"})})]})},p=n(34),f=n.n(p),h=n(35),x=n.n(h),m=function(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:"https://i.redd.it/om4a8r7glhx21.png",alt:""})}),Object(d.jsx)("div",{className:x.a.descriptionBlock,children:"Ava + description"})]})},v=n(20),S=n.n(v),_=n(9),P=n(12),N=n(2),E={posts:[{id:1,message:"Hi dude",likesCount:2,isLiked:!1},{id:2,message:"nice photos!",likesCount:1,isLiked:!1}],newPostText:""},T=n(36),C=n.n(T),k=Object(_.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addLike:function(t,n){e(function(e,t){return{type:"SN/PROFILE/ADD_LIKE",id:e,isLiked:t}}(t,n))},removeLike:function(t,n){e(function(e,t){return{type:"SN/PROFILE/REMOVE_LIKE",id:e,isLiked:t}}(t,n))}}}))((function(e){return Object(d.jsxs)("div",{className:C.a.items,children:[Object(d.jsx)("img",{src:"https://cdn4.iconfinder.com/data/icons/spring-festival/512/man-512.png",alt:""}),Object(d.jsx)("span",{children:e.message}),Object(d.jsx)("div",{children:e.isLiked?Object(d.jsxs)("button",{onClick:function(){e.removeLike(e.id,e.isLiked)},children:["Liked \u2665",e.likesCount]}):Object(d.jsxs)("button",{onClick:function(){e.addLike(e.id,e.isLiked)},children:["Like \u2661",e.likesCount]})}),Object(d.jsx)("hr",{})]})})),w=Object(_.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPost:function(t){e({type:"SN/PROFILE/ADD_POST",newPost:t})},updateNewPostText:function(t){e(function(e){return{type:"SN/PROFILE/SET_NEW_POST_TEXT",newText:e}}(t))}}}))((function(e){var t=e.profilePage,n=t.posts.map((function(e){return Object(d.jsx)(k,{message:e.message,id:e.id,likesCount:e.likesCount,isLiked:e.isLiked},e.id)})),s=function(){t.newPostText&&e.addPost(t.newPostText)};return Object(d.jsxs)("div",{className:S.a.postBlock,children:[Object(d.jsx)("textarea",{value:t.newPostText,maxLength:1e5,onChange:function(t){var n,s=null===(n=t.currentTarget)||void 0===n?void 0:n.value;e.updateNewPostText(s)},placeholder:"What's new?",onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),s())}}),Object(d.jsx)("span",{children:Object(d.jsx)("button",{onClick:s,children:"Post"})}),Object(d.jsx)("div",{className:S.a.posts,children:n})]})})),L=function(e){return Object(d.jsxs)("div",{className:f.a.profile,children:[Object(d.jsx)(m,{}),Object(d.jsx)(w,{})]})},y=n(3),U=n(10),D=n.n(U),M=function(e){return Object(d.jsx)("div",{className:D.a.dialog+""+D.a.active,children:Object(d.jsx)(o.b,{to:"/dialogs/"+e.id,children:e.name})})},R=function(e){return Object(d.jsx)("div",{className:D.a.message,children:e.message})},A={dialogs:[{id:1,name:"Dima"},{id:2,name:"Sasha"}],messages:[{id:1,message:"hello"},{id:2,message:"How are you?"}],newMessageText:""},I=Object(_.b)((function(e){return{dialogsPage:e.dialogPage}}),(function(e){return{sendMessage:function(t){e({type:"SN/DIALOGS/ADD_MESSAGE",newMessage:t})},updateNewMessageText:function(t){e(function(e){return{type:"SN/DIALOGS/SET_NEW_MESSAGE_TEXT",newText:e}}(t))}}}))((function(e){var t=e.dialogsPage,n=t.dialogs.map((function(e){return Object(d.jsx)(M,{name:e.name,id:e.id},e.id)})),s=t.messages.map((function(e){return Object(d.jsx)(R,{message:e.message,id:e.id},e.id)})),a=function(){t.newMessageText&&e.sendMessage(t.newMessageText.trim())};return Object(d.jsxs)("div",{className:D.a.dialogsPage,children:[Object(d.jsx)("div",{className:D.a.dialogs,children:n}),Object(d.jsxs)("div",{className:D.a.messages,children:[s,Object(d.jsxs)("div",{children:[Object(d.jsx)("hr",{}),Object(d.jsx)("textarea",{value:t.newMessageText,maxLength:1e5,onChange:function(t){var n,s=null===(n=t.currentTarget)||void 0===n?void 0:n.value;e.updateNewMessageText(s)},placeholder:"Write something",onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),a())}}),Object(d.jsx)("span",{children:Object(d.jsx)("button",{onClick:a,children:"Send"})})]})]})]})})),F=function(e){return Object(d.jsx)("div",{children:"Music Page Content"})},G=function(e){return Object(d.jsx)("div",{children:"News Page Content"})},W=function(e){return Object(d.jsx)("div",{children:"Settings Page Content"})},z={users:[],pageSize:5,totalUsersCount:19,currentPage:2},B=n(37),K=n(38),X=n(40),H=n(39),J=n(21),V=n.n(J),Y=n.p+"static/media/defaultSmallUserPhoto.8101612b.png",Z=n(22),q=n.n(Z),Q=function(e){Object(X.a)(n,e);var t=Object(H.a)(n);function n(){var e;Object(B.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.setCurrentPage(t),V.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(t,"&count=").concat(e.props.pageSize)).then((function(t){e.props.setUsers(t.data.items)}))},e}return Object(K.a)(n,[{key:"componentDidMount",value:function(){var e=this;V.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(this.props.currentPage,"&count=").concat(this.props.pageSize)).then((function(t){e.props.setUsers(t.data.items),e.props.setTotalUsersCount(t.data.totalCount)}))}},{key:"render",value:function(){for(var e=this,t=this.props.usersPage,n=Math.ceil(t.totalUsersCount/t.pageSize),s=[],a=1;a<=n;a++)s.push(a);return Object(d.jsxs)("div",{className:q.a.items,children:["Users:",Object(d.jsx)("div",{children:s.map((function(n){return Object(d.jsx)("span",{className:n===t.currentPage?q.a.selectedPage:"",onClick:function(){return e.onPageChanged(n)},children:n})}))}),Object(d.jsx)("hr",{}),t.users.map((function(t){var n,s;return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:null!==t.photos.small?t.photos.small:Y})}),Object(d.jsx)("div",{children:Object(d.jsx)("b",{children:t.name})}),Object(d.jsx)("div",{style:{textDecoration:"underline",color:"blue"},children:"Write message"})," ",Object(d.jsx)("div",{children:t.followed?Object(d.jsx)("button",{onClick:function(){e.props.unFollow(t.id)},children:"unfollow"}):Object(d.jsx)("button",{onClick:function(){e.props.follow(t.id)},children:"follow"})}),Object(d.jsxs)("div",{children:["country:",(null===(n=t.location)||void 0===n?void 0:n.country)?t.location.country:" - "]}),Object(d.jsxs)("div",{children:["city:",(null===(s=t.location)||void 0===s?void 0:s.city)?t.location.city:" - "]}),Object(d.jsx)("hr",{})]},t.id)}))]})}}]),n}(a.a.Component),$=Object(_.b)((function(e){return{usersPage:e.usersPage,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage}}),(function(e){return{follow:function(t){e(function(e){return{type:"SN/USERS/FOLLOW",id:e}}(t))},unFollow:function(t){e(function(e){return{type:"SN/USERS/UNFOLLOW",id:e}}(t))},setUsers:function(t){e(function(e){return{type:"SN/USERS/SET_USERS",users:e}}(t))},setCurrentPage:function(t){e({type:"SN/USERS/SET_CURRENT_PAGE",currentPage:t})},setTotalUsersCount:function(t){e(function(e){return{type:"SN/USERS/SET_TOTAL_USERS_COUNT",totalCount:e}}(t))}}}))(Q),ee=function(e){return Object(d.jsxs)("div",{className:"app-wrapper",children:[Object(d.jsx)(j,{}),Object(d.jsx)(g,{}),Object(d.jsxs)("div",{className:"app-wrapper-content",children:[Object(d.jsx)(y.a,{path:"/Profile",render:function(){return Object(d.jsx)(L,{})}}),Object(d.jsx)(y.a,{path:"/Dialogs",render:function(){return Object(d.jsx)(I,{})}}),Object(d.jsx)(y.a,{path:"/Users",render:function(){return Object(d.jsx)($,{})}}),Object(d.jsx)(y.a,{path:"/News",render:function(){return Object(d.jsx)(G,{})}}),Object(d.jsx)(y.a,{path:"/Music",render:function(){return Object(d.jsx)(F,{})}}),Object(d.jsx)(y.a,{path:"/Settings",render:function(){return Object(d.jsx)(W,{})}})]})]})},te=n(23),ne=Object(te.a)({dialogPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;if("SN/DIALOGS/ADD_MESSAGE"===t.type){var n=Object(N.a)({},e),s={id:Math.floor((new Date).valueOf()*Math.random()),message:n.newMessageText};return n.messages=[].concat(Object(P.a)(e.messages),[s]),n.newMessageText="",n}if("SN/DIALOGS/SET_NEW_MESSAGE_TEXT"===t.type){var a=Object(N.a)({},e);return a.newMessageText=t.newText,a}return e},profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;if("SN/PROFILE/ADD_POST"===t.type){var n=Object(N.a)({},e),s={id:Math.floor((new Date).valueOf()*Math.random()),message:e.newPostText,likesCount:0,isLiked:!1};return n.posts=[s].concat(Object(P.a)(e.posts)),n.newPostText="",n}if("SN/PROFILE/SET_NEW_POST_TEXT"===t.type){var a=Object(N.a)({},e);return a.newPostText=t.newText,a}if("SN/PROFILE/ADD_LIKE"===t.type){var i=Object(N.a)(Object(N.a)({},e),{},{posts:e.posts.map((function(e){return e.id===t.id?Object(N.a)(Object(N.a)({},e),{},{isLiked:!0,likesCount:e.likesCount+1}):e}))});return i}if("SN/PROFILE/REMOVE_LIKE"===t.type){var c=Object(N.a)(Object(N.a)({},e),{},{posts:e.posts.map((function(e){return e.id===t.id?Object(N.a)(Object(N.a)({},e),{},{isLiked:!1,likesCount:e.likesCount-1}):e}))});return c}return e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/USERS/FOLLOW":var n=Object(N.a)(Object(N.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(N.a)(Object(N.a)({},e),{},{followed:!0}):e}))});return n;case"SN/USERS/UNFOLLOW":var s=Object(N.a)(Object(N.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(N.a)(Object(N.a)({},e),{},{followed:!1}):e}))});return s;case"SN/USERS/SET_USERS":return Object(N.a)(Object(N.a)({},e),{},{users:Object(P.a)(t.users)});case"SN/USERS/SET_CURRENT_PAGE":return Object(N.a)(Object(N.a)({},e),{},{currentPage:t.currentPage});case"SN/USERS/SET_TOTAL_USERS_COUNT":return Object(N.a)(Object(N.a)({},e),{},{totalUsersCount:t.totalCount});default:return e}}}),se=Object(te.b)(ne),ae=function(e){c.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(o.a,{children:Object(d.jsx)(_.a,{store:se,children:Object(d.jsx)(ee,{})})})}),document.getElementById("root"))};ae(se.getState()),se.subscribe((function(){ae(se.getState())})),r()}},[[71,1,2]]]);
//# sourceMappingURL=main.1c1ea2a7.chunk.js.map